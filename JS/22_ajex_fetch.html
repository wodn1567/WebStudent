<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>JS HTTP 통신 라이브러리</title>
    </head>
    <body>
        <button onclick="aaa()">get method test</button>
        <button onclick="bbb()">post method test</button>
        <hr>
        <div id="target"></div>
        <script>
            function aaa(){
                //get방식
                var url="./getTest.php?name=ROSA&msg=Good"

                //fetch 라이브러리 - promiss기법
                fetch(url).then(function(response){//응답객체:response
                    //응답객체가 가지고온 응답결과를 글씨로 변환 요청
                    return response.text() //비동기 작업

                }).then(function(responseText){
                    document.querySelector("#target").innerHTML=responseText
                })
            }
            function bbb(){
                //post방식
                var url="./postTest.php"
                var data="title=Hello&msg=Nice To Meet You"

                fetch(url,{
                    method:'POST',
                    headers:{'Content-Type' : 'application/x-www-form-urlencoded; charset=utf-8'},
                    body:data
                }).then(function(response){
                    return response.text();
                }).then(function(text){
                    document.querySelector('#target').innerHTML=text
                })
            }
        </script>
    </body>
</html>